/*
红红或者券
一次性
2 2 29 2 * jd_fans_hb1.js
 */

const $ = new Env('领粉丝福利红包1元');
const notify = $.isNode() ? require("./sendNotify") : "";
const jdCookieNode = $.isNode() ? require("./jdCookie.js") : "";


var version_='jsjiami.com.v7';const F=h;(function(i,j,k,l,m,n,o){return i=i>>0x2,n='hs',o='hs',function(p,q,r,s,t){const w=h;s='tfi',n=s+n,t='up',o+=t,n=r(n),o=r(o),r=0x0;const u=p();while(!![]&&--l+q){try{s=-parseInt(w(0x181))/0x1+parseInt(w(0x202))/0x2*(parseInt(w(0x1a0))/0x3)+-parseInt(w(0x22f))/0x4*(-parseInt(w(0x201))/0x5)+parseInt(w(0x23d))/0x6*(parseInt(w(0x1ff))/0x7)+-parseInt(w(0x1b1))/0x8+-parseInt(w(0x1c0))/0x9+-parseInt(w(0x1ce))/0xa*(-parseInt(w(0x17a))/0xb);}catch(v){s=r;}finally{t=u[n]();if(i<=l)r?m?s=t:m=t:r=t;else{if(r==m['replace'](/[IynYkARDTNuQXxPKHtEMlV=]/g,'')){if(s===q){u['un'+n](t);break;}u[o](t);}}}}}(k,j,function(p,q,r,s,t,u,v){return q='\x73\x70\x6c\x69\x74',p=arguments[0x0],p=p[q](''),r=`\x72\x65\x76\x65\x72\x73\x65`,p=p[r]('\x76'),s=`\x6a\x6f\x69\x6e`,(0x123a5a,p[s](''));});}(0x2fc,0x91185,g,0xc1),g)&&(version_=g);const f=(function(){let i=!![];return function(j,k){const l=i?function(){const x=h;if(k){const m=k[x(0x17f)](j,arguments);return k=null,m;}}:function(){};return i=![],l;};}()),e=f(this,function(){const y=h,i={'xedTt':y(0x1db)};return e[y(0x1a2)]()[y(0x1d3)](i[y(0x1ab)])[y(0x1a2)]()[y(0x1ca)](e)[y(0x1d3)](i[y(0x1ab)]);});e(),(function(){const z=h,i={'xjdak':function(k,l){return k(l);},'ahItC':function(k,l){return k+l;},'qbDCY':z(0x218),'kIzzd':z(0x182),'sVIKs':function(k){return k();}};let j;try{const k=i[z(0x1b4)](Function,i[z(0x1fc)](i[z(0x1fc)](i[z(0x1bd)],i[z(0x192)]),');'));j=i[z(0x226)](k);}catch(l){j=window;}j[z(0x1dd)](c,0x7d0);}());const d=(function(){let i=!![];return function(j,k){const l=i?function(){const A=h;if(k){const m=k[A(0x17f)](j,arguments);return k=null,m;}}:function(){};return i=![],l;};}());(function(){const B=h,i={'BWIvn':B(0x204),'YbBXd':B(0x1be),'bokNQ':function(j,k){return j(k);},'KDzZx':B(0x1ae),'IKooT':function(j,k){return j+k;},'JsCIh':B(0x221),'uGiPZ':B(0x197),'LLiuY':function(j,k){return j(k);},'SRSKo':function(j){return j();},'sftKk':function(j,k,l){return j(k,l);}};i[B(0x193)](d,this,function(){const C=B,j=new RegExp(i[C(0x1cd)]),k=new RegExp(i[C(0x1d5)],'i'),l=i[C(0x1bf)](c,i[C(0x231)]);!j[C(0x236)](i[C(0x18d)](l,i[C(0x189)]))||!k[C(0x236)](i[C(0x18d)](l,i[C(0x222)]))?i[C(0x1d9)](l,'0'):i[C(0x1f5)](c);})();}());function h(a,b){const c=g();return h=function(d,e){d=d-0x178;let f=c[d];if(h['rZKRKt']===undefined){var i=function(m){const n='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let o='',p='',q=o+i;for(let r=0x0,s,t,u=0x0;t=m['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?o+=q['charCodeAt'](u+0xa)-0xa!==0x0?String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):r:0x0){t=n['indexOf'](t);}for(let v=0x0,w=o['length'];v<w;v++){p+='%'+('00'+o['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(p);};h['asBhGu']=i,a=arguments,h['rZKRKt']=!![];}const j=c[0x0],k=d+j,l=a[k];if(!l){const m=function(n){this['jtCIVw']=n,this['KDnQeZ']=[0x1,0x0,0x0],this['GfXYMi']=function(){return'newState';},this['skYwjA']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['AfDikN']='[\x27|\x22].+[\x27|\x22];?\x20*}';};m['prototype']['ryxZjp']=function(){const n=new RegExp(this['skYwjA']+this['AfDikN']),o=n['test'](this['GfXYMi']['toString']())?--this['KDnQeZ'][0x1]:--this['KDnQeZ'][0x0];return this['JcGxLR'](o);},m['prototype']['JcGxLR']=function(n){if(!Boolean(~n))return n;return this['aShURe'](this['jtCIVw']);},m['prototype']['aShURe']=function(n){for(let o=0x0,p=this['KDnQeZ']['length'];o<p;o++){this['KDnQeZ']['push'](Math['round'](Math['random']())),p=this['KDnQeZ']['length'];}return n(this['KDnQeZ'][0x0]);},new m(h)['ryxZjp'](),f=h['asBhGu'](f),a[k]=f;}else f=l;return f;},h(a,b);}const b=(function(){let i=!![];return function(j,k){const l=i?function(){const D=h;if(k){const m=k[D(0x17f)](j,arguments);return k=null,m;}}:function(){};return i=![],l;};}()),a=b(this,function(){const E=h,i={'SumIx':function(m,n){return m(n);},'wQaOZ':function(m,n){return m+n;},'FQKEK':E(0x218),'yVjMD':E(0x182),'rrbom':function(m){return m();},'lQTSL':E(0x237),'xSnMD':E(0x18e),'LNqoj':E(0x1e7),'pgvBN':E(0x199),'pUoIo':E(0x17c),'PRPNy':E(0x1af),'FDvNT':E(0x220),'zSkkj':function(m,n){return m<n;}};let j;try{const m=i[E(0x232)](Function,i[E(0x1c7)](i[E(0x1c7)](i[E(0x1f9)],i[E(0x22d)]),');'));j=i[E(0x217)](m);}catch(n){j=window;}const k=j[E(0x238)]=j[E(0x238)]||{},l=[i[E(0x230)],i[E(0x1e9)],i[E(0x22b)],i[E(0x1c6)],i[E(0x19d)],i[E(0x194)],i[E(0x179)]];for(let o=0x0;i[E(0x1c8)](o,l[E(0x196)]);o++){const p=b[E(0x1ca)][E(0x23c)][E(0x215)](b),q=l[o],r=k[q]||p;p[E(0x1e4)]=b[E(0x215)](b),p[E(0x1a2)]=r[E(0x1a2)][E(0x215)](r),k[q]=p;}});a();let cookiesArr=[],cookie='';if($[F(0x233)]()){Object[F(0x23e)](jdCookieNode)[F(0x18c)](i=>{const G=F;cookiesArr[G(0x203)](jdCookieNode[i]);});if(process[F(0x1ef)][F(0x21a)]&&process[F(0x1ef)][F(0x21a)]===F(0x1f4))console[F(0x237)]=()=>{};if(JSON[F(0x20b)](process[F(0x1ef)])[F(0x21c)](F(0x234))>-0x1)process[F(0x1ed)](0x0);}else cookiesArr=[$[F(0x1a3)](F(0x180)),$[F(0x1a3)](F(0x1b9)),...$[F(0x216)]($[F(0x1a3)](F(0x225))||'[]')[F(0x20c)](i=>i[F(0x1d2)])][F(0x223)](i=>!!i);let allMessage='',query_url=F(0x178),draw_url=F(0x1ac);function g(){const V=(function(){return[...[version_,'MKuDjYstjTilxyaHmAiVX.IRcEnkomN.v7QPQRnV==','yxbWBhK','q29VA2LLsKq','mtaXnte1nfP5zuTNrG','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','cUIVT+MhJEAwSoEzU+w9LEIoT+wpLGPODhrWCZOVl2jLyw4UBs5Qzc5JB20VyMvHBI9ZAwDUsw5KzxGUywn0Aw9U','zgvIDq','y2fSBa','yuf0DvG','z3PPCcWGzgvMBgf0zsWGyNi','tuT5veq','sNndswG','Evruqxi','vxnLCK5HBwu','zM9YrwfJAa','suTVB1q','D2fYBG','wgLyyuy','CgfYC2u','tMLoB0i','A0L6EMq','C2z0s2S','ufjqtNK','CgzqEKu','BgvUz3rO','Aw5WDxq','s2PNAwS','zxjYB3i','C2vUze5VDgLMEq','cIOQkIOQkUw8GowNI+oaKos6Ros4NoI0PUwpTW','s1PRwhi','CfvVsw8','Aw5KzxG','CMfUzg9T','m3rfCMvPvW','C01RsfO','Dg9tDhjPBMC','z2v0zgf0yq','Ahr0Chm6lY93CxmUAMqUy29TlW','B3LVDKq','t3fpCfm','wKXxAhu','EMDZr2S','z2DLCG','zgjHtM8','EgvKvhq','Ahr0Chm6lY93Cs5Qzc5JB20Vywn0AxzLDdiVBg9VA3rYzwfZDxjLl2rYyxDFywn0AxzLDgvTCg9Yyxj5p3nJzw5LDMfSptiMyMfJA2vUzeLKpxH3DMDRoxnJBgXZytvKB2vLzxjHBYzFpte2nZG1otm3nZC2nJqMC2nLBMv2ywW9mIzNx2XVz2LUx3r5Cgu9mszJywXSyMfJAZ1KCMf3x2fJDgL2zxrLBxbVCMfYEszNx3r5pwXZjMfWCenVzgu9BxnJntG4zdzKnq','D2PXwM8','Aw5PDa','DgfIBgu','sM1rzwO','nJaWodi0AwTTrhfX','y29VA2LL5BEY5AsX5Pwiic0G','C3rHDgvpyMPLy3q','EgPKywS','vxnJvfu','DMPRs2q','6i635B6xoIa','wLriCu4','q29VA2LLsKqY','y2nYr1y','uLbyzLq','wfz1AwG','Cwjeq1K','xcTCkYaQkd86w2eTEKeTwL8KxvSWltLHlxPblvPFjf0Qkq','yM9RtLe','nJyZnZy1m3LSy0nhyq'],...(function(){return[...['vuTfuNe','5Rs75yQO5AsQ54gR54Ig5lQg77Ym6k+356In5zco5yAn6k+vFG','C1jTBMC','D3eUAMqUy29T','5lQS5lIC6lsM5y+3','CgD2qK4','D1fHt1O','ELnRA2O','Bg9NrxjY','y29UC3rYDwn0B3i','EMGTy24','zg9Uzq','qLDjDM4','nZKZotqYmeLnv2nwrW','C3rYAw5N','tMLPCeq','u3H6v2m','y29VA2LL','C2vHCMnO','uuDrsMi','wwjcwgq','kI8Q','AxvoDwm','D2HPBguGkhrYDwuPihT9','teXPDvK','ExjoAfK','kcGOlISPkYKRksSK','vfzNB3u','C2v0sw50zxj2ywW','y291BNrLCG','DMjvyMK','cUIVT+MhJEAwSoEzU+w9LEIoT+wpLMnVB2TPzq','AxnmB2DPBG','BMfTzq','vgf6u3G','x19WCM90B19F','ueXICMO','BxnN','Aw5MBW','vhnACg4','EfnUtuq','Bwf0y2G','BNvXEhu','rfbXEeC','zxHPDa','qw5UuMG','zw52','Ahr0Chm6lY9IzwfUlM0UAMqUy29Tl2jLyw4VC2LNBKLUzgv4lMfJDgLVBG','EMPXAeG','BMLJA05HBwu','t2X0zhu','zMfSC2u','u1jts28','zhjjEeC','y1H3z2S','y2f0y2G','rLflruS','yxbkEvq','oIbbueNMN6xOR6lOR7FMSylLPlhOTkuG4Oc877Ip4Oc877Ip','ywHjDem','DLPWvuO','z2v0','mtrUC1r0zgy','DMnYse0','mtuZodiWAvrnB3Hw','mtK2mdq4mMXJyKLPtq','ChvZAa','zNvUy3rPB24GkLWOicPCkq'],...(function(){return['6k+35yU/6zQp5Osp5zYOqM94sNpOVPpLHAxMOyBKV67MLlNLHOxLRRKk5BU66k6U6ycA6l+h6isA5PYS5y676i635y+wy29VA2LL','C1rhCu8','ChrRCve','D2fPDa','EerKyxu','zMLUywXSEq','C3rYAw5NAwz5','BwfW','DurmwMC','y0vYAMO','ywn0Aw9U','rMTxC3O','44cq5O+q56s644cry29VA2LL5BEY5AsX5Pwi','DKHeywu','B1HTrxO','AMrHCha7yw5KCM9PzdSXms40lJq7oZTHChbcDwLSzc85ody1mtTLzI8Xo2vWlYu3qIuYmMHKAwqLmJiLm0eLmJjkttLgmxL3vvb3zMX2tuLWwvbVAZb0DdvRowTxnefYsKvvm2XMtgH4qNf3jtnejtiYjtjdjtiYDhmLmJiLm0eXnJC2nZiYmZK0ndGYjtjdjtiYCMLKEcuYmIuZqs0XjtjdjtiYy2LWAgvYjtiYjtnbjtDcjtiYC3yLmJiLm0eLmJjfrYuZrcuZrcuYmIuYqYuYmMfKjtiYjtnbjtiYq05hnur0thjAv0CZwxDhnurovNneCsuZrcuZrcuYmIuYqYuYmM9KjtiYjtnbjtiYjtiYjtjdjtiYB3yLmJiLm0eLmJjdDheLm0qLmJiLmKmLmJj1zcuYmIuZqsuYmKnorZveDeXYwLDhm1L3rZvetLzZrheLm0qLm0qLmJiLn0qLmKmLmJjJAxbOzxj0ExbLjtiYjtnbnsuYqYuYmNzLCNnPB24LmJiLm0eLmJiXlJiUmcuYmIuYqYuYmMfWCg5HBwuLmJiLm0eLmJjJB20UAMLUz2rVBMCUyxbWlM1HBgWLmJiLn0q7AMrtDxbWB3j0rgfYA01VzguVmdTnB3PPBgXHlZuUmcaOtgLUDxG7iefUzhjVAwqGotSGt05fueXvuYbbmZaWmcbcDwLSzc9qs1eXlJe4mtiWmY4Wmde7ihD2ksbbChbSzvDLyKTPDc81mZCUmZyGkeTive1mlcbSAwTLieDLy2TVksbwzxjZAw9UlZqUmcbdAhjVBwuVodKUmc40mZG5lJCYie1ruujYB3DZzxiVnI4YifrcuY8WndyXndeGtw9IAwXLifnHzMfYAs81mZCUmZy','yMLUza','Dg9pyMO','CNjIB20','CMv0DxjUicHMDw5JDgLVBIGPia','Ee5QyxG','sKrFrevcvuC','yuvus1O','Aw5KzxHpzG','kIOQkIOQkIOQcG','swvTCvy','u1PKzue','DhjHy2u','y2HHAw4','DuDPufO','zMLSDgvY','lcdLPlhOTkuHiowoN+wBOdOG','q29VA2LLC0Pe','C1zjs3m','t2v4reC','A2vLCc1HBgL2zq','Dxb4wLy','zMvzwu8','te5XB2O','uxvsDeq','EvzQtuq','C2LnALG','mJHnqxPsEfO','Bffuu0W','s0r6wNG','u3vTsxG','AxnoB2rL','r0Lusfvc','rMfdAxy','DgvZDa','Bg9N','y29UC29Szq','CMDtuLK','reniA0q','revJsMW','ChjVDg90ExbL','mti5nZy1nLjHtunwra','A2v5CW','Ahr0Chm6lY93Cs5Qzc5JB20Vywn0AxzLDdiVBg9VA3rYzwfZDxjLl3f1zxj5x2fJDgL2zxrLBxbVCMfYEt9Zy2vUzxzHBd0YjMjHy2TLBMrjzd14D3zNAZLZy2XSC2e1zg9LzwvYyw8MxZ0XnJC4ntKZnZC3otm1jNnJzw5LDMfSptiMz19SB2DPBL90ExbLpteMy2fSBgjHy2S9CxvLCNLFywn0AxzLDgvTCg9Yyxj5jMDFDhK9BhmMyxbWq29Kzt1TC2m1odHKnMq1','rKr2tLq','mtfVyvH4A2O','DgDxtwC','zxHJzxb0Aw9U','AxjjDvy','44cq5O+q56s644cr6k+35ywi6i635y+w5lQS5lIC6lsM5y+35lIay29VA2LLcUEBToAoPEs9V+EuQe5VyNLeyEEAHos6Ros4NoETVUwiSoIoT+wpLG'];}())];}())];}());g=function(){return V;};return g();};!(async()=>{const H=F,j={'TsZpn':H(0x17e),'Oltdu':H(0x1f0),'QGQJb':function(k,l){return k<l;},'feYYO':function(k,l){return k(l);},'vbUbi':function(k,l){return k+l;},'zjqhH':function(k,l){return k+l;},'PLbrj':function(k,l){return k+l;},'ccrGV':H(0x19b),'MKyTD':H(0x21d),'JmQej':H(0x211),'NiipD':function(k,l){return k+l;},'vjkKd':H(0x1c5),'ptkqQ':H(0x183),'UKERq':function(k,l){return k+l;},'DCHkD':H(0x1b2),'dbaNo':function(k,l){return k+l;},'sRmng':function(k,l){return k+l;},'drIxG':H(0x1e0),'sMkHZ':function(k){return k();},'cXwgk':function(k,l,m){return k(l,m);},'pfPzE':function(k,l){return k*l;},'ZLWhu':function(k,l){return k*l;},'XiXaF':function(k,l){return k+l;}};if(!cookiesArr[0x0]){$[H(0x1e6)]($[H(0x1e2)],j[H(0x1e8)],j[H(0x1f3)],{'open-url':j[H(0x1f3)]});return;}for(let k=0x0;j[H(0x1d4)](k,cookiesArr[H(0x196)]);k++){if(cookiesArr[k]){cookie=cookiesArr[k],$[H(0x18b)]=j[H(0x22a)](decodeURIComponent,cookie[H(0x1ea)](/pt_pin=([^; ]+)(?=;?)/)&&cookie[H(0x1ea)](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$[H(0x19e)]=j[H(0x1df)](k,0x1),$[H(0x1e1)]=!![],$[H(0x1f2)]='',message='',console[H(0x237)](j[H(0x1f1)](j[H(0x1f1)](j[H(0x1f1)](j[H(0x1e5)](j[H(0x1ba)],$[H(0x19e)]),'】'),$[H(0x1f2)]||$[H(0x18b)]),j[H(0x188)]));if(!$[H(0x1e1)]){$[H(0x1e6)]($[H(0x1e2)],j[H(0x1b0)],j[H(0x1d0)](j[H(0x1f1)](j[H(0x1d0)](j[H(0x1d0)](j[H(0x1b6)],$[H(0x19e)]),'\x20'),$[H(0x1f2)]||$[H(0x18b)]),j[H(0x207)]),{'open-url':j[H(0x1f3)]}),$[H(0x233)]()&&await notify[H(0x19a)](j[H(0x1e5)](j[H(0x1c1)]($[H(0x1e2)],j[H(0x23a)]),$[H(0x18b)]),j[H(0x1e5)](j[H(0x1aa)](j[H(0x1c3)](j[H(0x1f1)](j[H(0x1b6)],$[H(0x19e)]),'\x20'),$[H(0x18b)]),j[H(0x1f6)]));continue;}await j[H(0x1a1)](fansapp_query),await $[H(0x208)](j[H(0x1f7)](parseInt,j[H(0x1aa)](j[H(0x195)](Math[H(0x19f)](),0x3e8),0x1f4),0xa)),await j[H(0x1a1)](fansapp_draw),await $[H(0x208)](j[H(0x1f7)](parseInt,j[H(0x1c3)](j[H(0x1a7)](Math[H(0x19f)](),0x9c4),0x9c4),0xa));}}allMessage&&($[H(0x233)]()&&await notify[H(0x19a)](j[H(0x18f)]('',$[H(0x1e2)]),''),$[H(0x1e6)]($[H(0x1e2)],'',allMessage));})()[F(0x1f8)](i=>{const I=F,j={'DEcJl':function(k,l){return k+l;},'XVuih':function(k,l){return k+l;},'TVgou':function(k,l){return k+l;},'aETKZ':I(0x224)};$[I(0x237)]('',j[I(0x23b)](j[I(0x23b)](j[I(0x1bc)](j[I(0x1dc)]('❌\x20',$[I(0x1e2)]),j[I(0x21b)]),i),'!'),'');})[F(0x20a)](()=>{const J=F;$[J(0x1cc)]();});function fansapp_query(){const K=F,i={'oyovD':function(j,k){return j(k);},'ZTHqN':K(0x1d6),'KZkXr':K(0x187),'QuRtD':K(0x1cb),'SZdeA':K(0x228),'FaCiv':K(0x1c4),'zgsGk':K(0x1a4),'AnnRh':K(0x214)};return new Promise(async j=>{const M=K,k={'RPXfT':function(m,n){const L=h;return i[L(0x1a5)](m,n);}},l={'url':query_url,'headers':{'Accept':i[M(0x1b8)],'Accept-Encoding':i[M(0x19c)],'Accept-Language':i[M(0x22c)],'Connection':i[M(0x21f)],'Cookie':cookie,'Host':i[M(0x235)],'Referer':i[M(0x1a8)],'User-Agent':i[M(0x1ee)]}};$[M(0x1fe)](l,(m,n,o)=>{const N=M;try{if(m)console[N(0x237)]('\x5cn'+$[N(0x1e2)]+N(0x1fb)),$[N(0x1c9)](m);else{}}catch(p){$[N(0x1c9)](p,n);}finally{k[N(0x1bb)](j,o);}});});}function fansapp_draw(){const O=F,i={'nuqxu':O(0x1c2),'iuNuc':function(j,k){return j(k);},'wjqZo':O(0x1d6),'apJyT':O(0x187),'sTGqO':O(0x1cb),'siMjX':O(0x228),'rgSRY':O(0x1c4),'OexDG':O(0x1a4),'yrNhY':O(0x214)};return new Promise(async j=>{const P=O,k={'DPqxG':i[P(0x1eb)],'irIuV':function(l,m){const Q=P;return i[Q(0x1d7)](l,m);}};{const l={'url':draw_url,'headers':{'Accept':i[P(0x1ad)],'Accept-Encoding':i[P(0x1fa)],'Accept-Language':i[P(0x206)],'Connection':i[P(0x22e)],'Cookie':cookie,'Host':i[P(0x239)],'Referer':i[P(0x227)],'User-Agent':i[P(0x1da)]}};$[P(0x1fe)](l,(m,n,o)=>{const R=P;try{m?(console[R(0x237)]('\x5cn'+$[R(0x1e2)]+R(0x1fb)),$[R(0x1c9)](m)):(msg=o[R(0x1ea)](/"sPrizeName":"(.*?)"/)&&o[R(0x1ea)](/"sPrizeName":"(.*?)"/)[0x1]||k[R(0x1ec)],console[R(0x237)](R(0x1b7)+msg));}catch(p){console[R(0x237)](k[R(0x1ec)]);}finally{k[R(0x17d)](j,o);}});}});}function jsonParse(i){const S=F,j={'vcrHM':function(k,l){return k==l;},'upxZV':S(0x1cf),'TazSx':S(0x205)};if(j[S(0x200)](typeof i,j[S(0x229)]))try{return JSON[S(0x190)](i);}catch(k){return console[S(0x237)](k),$[S(0x1e6)]($[S(0x1e2)],'',j[S(0x1e3)]),[];}}function c(i){const T=F,j={'oXmEz':function(l,m){return l===m;},'uDLZg':T(0x1cf),'xDdau':T(0x1d8),'FkWsz':T(0x1de),'yTTAr':function(l,m){return l!==m;},'vZpUJ':function(l,m){return l+m;},'UscTU':function(l,m){return l/m;},'OqOpS':T(0x196),'xNjax':function(l,m){return l%m;},'IemqV':function(l,m){return l+m;},'SxzWc':T(0x184),'NiNoB':T(0x1a9),'vHDae':T(0x20f),'tgWMg':function(l,m){return l+m;},'cErjj':T(0x1b3),'aAtuX':function(l,m){return l(m);},'Kjgik':function(l,m){return l(m);}};function k(l){const U=T;if(j[U(0x213)](typeof l,j[U(0x20d)]))return function(m){}[U(0x1ca)](j[U(0x209)])[U(0x17f)](j[U(0x210)]);else j[U(0x18a)](j[U(0x1fd)]('',j[U(0x1b5)](l,l))[j[U(0x1a6)]],0x1)||j[U(0x213)](j[U(0x219)](l,0x14),0x0)?function(){return!![];}[U(0x1ca)](j[U(0x21e)](j[U(0x1d1)],j[U(0x191)]))[U(0x185)](j[U(0x212)]):function(){return![];}[U(0x1ca)](j[U(0x17b)](j[U(0x1d1)],j[U(0x191)]))[U(0x17f)](j[U(0x20e)]);j[U(0x186)](k,++l);}try{if(i)return k;else j[T(0x198)](k,0x0);}catch(l){}}var version_ = 'jsjiami.com.v7';


// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }