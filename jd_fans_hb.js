/*
粉丝福利红包
0.1红包， 一次性福利
一次性
2 2 29 2 * jd_fans_hb.js
 */

const $ = new Env('领粉丝福利红包');
const notify = $.isNode() ? require("./sendNotify") : "";
const jdCookieNode = $.isNode() ? require("./jdCookie.js") : "";


var version_='jsjiami.com.v7';const _0xdce6ab=_0x1b1a;function _0x1b1a(_0x14e62b,_0x303536){const _0x5ac114=_0x5ac1();return _0x1b1a=function(_0x1b1a1b,_0x3e4c71){_0x1b1a1b=_0x1b1a1b-0x70;let _0x392f37=_0x5ac114[_0x1b1a1b];if(_0x1b1a['NlcFWA']===undefined){var _0x23c2a3=function(_0x538934){const _0x2ff8b8='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2f67dc='',_0x3e3d8e='';for(let _0x5bdd37=0x0,_0x589c7e,_0x5387d8,_0x83194a=0x0;_0x5387d8=_0x538934['charAt'](_0x83194a++);~_0x5387d8&&(_0x589c7e=_0x5bdd37%0x4?_0x589c7e*0x40+_0x5387d8:_0x5387d8,_0x5bdd37++%0x4)?_0x2f67dc+=String['fromCharCode'](0xff&_0x589c7e>>(-0x2*_0x5bdd37&0x6)):0x0){_0x5387d8=_0x2ff8b8['indexOf'](_0x5387d8);}for(let _0x5649eb=0x0,_0x488845=_0x2f67dc['length'];_0x5649eb<_0x488845;_0x5649eb++){_0x3e3d8e+='%'+('00'+_0x2f67dc['charCodeAt'](_0x5649eb)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3e3d8e);};const _0x40afdc=function(_0x2b56a0,_0x19f7dc){let _0xa51ff6=[],_0x332eb2=0x0,_0x4d8a01,_0x35c8f5='';_0x2b56a0=_0x23c2a3(_0x2b56a0);let _0x357eae;for(_0x357eae=0x0;_0x357eae<0x100;_0x357eae++){_0xa51ff6[_0x357eae]=_0x357eae;}for(_0x357eae=0x0;_0x357eae<0x100;_0x357eae++){_0x332eb2=(_0x332eb2+_0xa51ff6[_0x357eae]+_0x19f7dc['charCodeAt'](_0x357eae%_0x19f7dc['length']))%0x100,_0x4d8a01=_0xa51ff6[_0x357eae],_0xa51ff6[_0x357eae]=_0xa51ff6[_0x332eb2],_0xa51ff6[_0x332eb2]=_0x4d8a01;}_0x357eae=0x0,_0x332eb2=0x0;for(let _0x11be10=0x0;_0x11be10<_0x2b56a0['length'];_0x11be10++){_0x357eae=(_0x357eae+0x1)%0x100,_0x332eb2=(_0x332eb2+_0xa51ff6[_0x357eae])%0x100,_0x4d8a01=_0xa51ff6[_0x357eae],_0xa51ff6[_0x357eae]=_0xa51ff6[_0x332eb2],_0xa51ff6[_0x332eb2]=_0x4d8a01,_0x35c8f5+=String['fromCharCode'](_0x2b56a0['charCodeAt'](_0x11be10)^_0xa51ff6[(_0xa51ff6[_0x357eae]+_0xa51ff6[_0x332eb2])%0x100]);}return _0x35c8f5;};_0x1b1a['ySzriZ']=_0x40afdc,_0x14e62b=arguments,_0x1b1a['NlcFWA']=!![];}const _0x7a0218=_0x5ac114[0x0],_0x1f7fd3=_0x1b1a1b+_0x7a0218,_0x3c04a0=_0x14e62b[_0x1f7fd3];return!_0x3c04a0?(_0x1b1a['FmaiWg']===undefined&&(_0x1b1a['FmaiWg']=!![]),_0x392f37=_0x1b1a['ySzriZ'](_0x392f37,_0x3e4c71),_0x14e62b[_0x1f7fd3]=_0x392f37):_0x392f37=_0x3c04a0,_0x392f37;},_0x1b1a(_0x14e62b,_0x303536);}(function(_0x258f4b,_0x45bc07,_0x28e753,_0x465db5,_0x46609e,_0x52fdc0,_0x36e9e0){return _0x258f4b=_0x258f4b>>0x5,_0x52fdc0='hs',_0x36e9e0='hs',function(_0x26a42b,_0x6e5d01,_0x38b204,_0x56cd90,_0x58ae39){const _0x4e5196=_0x1b1a;_0x56cd90='tfi',_0x52fdc0=_0x56cd90+_0x52fdc0,_0x58ae39='up',_0x36e9e0+=_0x58ae39,_0x52fdc0=_0x38b204(_0x52fdc0),_0x36e9e0=_0x38b204(_0x36e9e0),_0x38b204=0x0;const _0x58bc6a=_0x26a42b();while(!![]&&--_0x465db5+_0x6e5d01){try{_0x56cd90=parseInt(_0x4e5196(0xf4,'Wyn^'))/0x1+parseInt(_0x4e5196(0x10e,'Kcjv'))/0x2+-parseInt(_0x4e5196(0xdd,'Cf$q'))/0x3*(-parseInt(_0x4e5196(0x12a,'GyzU'))/0x4)+-parseInt(_0x4e5196(0x110,'Wyn^'))/0x5*(-parseInt(_0x4e5196(0xf2,'1lYb'))/0x6)+-parseInt(_0x4e5196(0xb5,'MDC8'))/0x7*(parseInt(_0x4e5196(0x12d,'3#Qq'))/0x8)+parseInt(_0x4e5196(0xe7,'Cf$q'))/0x9+parseInt(_0x4e5196(0xe5,'L]gG'))/0xa*(-parseInt(_0x4e5196(0x83,'B3dG'))/0xb);}catch(_0x1d024a){_0x56cd90=_0x38b204;}finally{_0x58ae39=_0x58bc6a[_0x52fdc0]();if(_0x258f4b<=_0x465db5)_0x38b204?_0x46609e?_0x56cd90=_0x58ae39:_0x46609e=_0x58ae39:_0x38b204=_0x58ae39;else{if(_0x38b204==_0x46609e['replace'](/[TFxuDXgEyKpNHnIfeQb=]/g,'')){if(_0x56cd90===_0x6e5d01){_0x58bc6a['un'+_0x52fdc0](_0x58ae39);break;}_0x58bc6a[_0x36e9e0](_0x58ae39);}}}}}(_0x28e753,_0x45bc07,function(_0x34cd20,_0x3521c6,_0x384f4f,_0x1e41aa,_0x15eb78,_0x284662,_0x2258c3){return _0x3521c6='\x73\x70\x6c\x69\x74',_0x34cd20=arguments[0x0],_0x34cd20=_0x34cd20[_0x3521c6](''),_0x384f4f=`\x72\x65\x76\x65\x72\x73\x65`,_0x34cd20=_0x34cd20[_0x384f4f]('\x76'),_0x1e41aa=`\x6a\x6f\x69\x6e`,(0x120a3f,_0x34cd20[_0x1e41aa](''));});}(0x18c0,0x800c7,_0x5ac1,0xc8),_0x5ac1)&&(version_=_0x5ac1);let cookiesArr=[],cookie='';if($[_0xdce6ab(0xd6,'ZyHC')]()){Object[_0xdce6ab(0xe4,'MBnV')](jdCookieNode)['forEach'](_0x624bdc=>{cookiesArr['push'](jdCookieNode[_0x624bdc]);});if(process[_0xdce6ab(0x84,'vzrK')][_0xdce6ab(0xb7,'QbVT')]&&process[_0xdce6ab(0x86,'nA7E')][_0xdce6ab(0xb0,'ZyHC')]===_0xdce6ab(0x103,'@^M)'))console['log']=()=>{};if(JSON['stringify'](process['env'])['indexOf'](_0xdce6ab(0xf5,'MDC8'))>-0x1)process[_0xdce6ab(0xa0,'UsQ!')](0x0);}else cookiesArr=[$[_0xdce6ab(0xb3,'c[5e')](_0xdce6ab(0x7a,'kgX!')),$[_0xdce6ab(0x8c,'vzrK')]('CookieJD2'),...$[_0xdce6ab(0x8e,'6Vf^')]($[_0xdce6ab(0xd1,'V5Ho')](_0xdce6ab(0x82,'nA7E'))||'[]')['map'](_0x1f66e0=>_0x1f66e0['cookie'])]['filter'](_0x54585e=>!!_0x54585e);let allMessage='';!(async()=>{const _0x54f81e=_0xdce6ab,_0x392a59={'mmrrv':function(_0x3c0e6e,_0x4dca21){return _0x3c0e6e(_0x4dca21);},'thVmp':'【提示】请先获取京东账号一cookie\x0a直接使用NobyDa的京东签到获取','ICXhl':_0x54f81e(0x77,'MDC8'),'qUaNI':function(_0x2278c2,_0x4e88c6){return _0x2278c2<_0x4e88c6;},'nJPWd':function(_0x567376,_0x1d5930){return _0x567376!==_0x1d5930;},'csjJe':'NJdaF','lkZak':function(_0x30b67e,_0x32c60e){return _0x30b67e(_0x32c60e);},'SiQdm':function(_0xd906ce,_0x21c65b){return _0xd906ce+_0x21c65b;},'Mmpai':function(_0x3e90c3,_0x5d7428){return _0x3e90c3+_0x5d7428;},'sXjig':'\x0a******开始【京东账号','QrOIJ':_0x54f81e(0xad,'UJ%6'),'rqEDR':function(_0x55f121,_0x24bd73){return _0x55f121+_0x24bd73;},'gJQRC':function(_0x4c4cd0,_0x32c1c0){return _0x4c4cd0+_0x32c1c0;},'eIfMZ':_0x54f81e(0xdf,'nikN'),'iNGAE':'\x0a请重新登录获取\x0ahttps://bean.m.jd.com/bean/signIndex.action','ilIQp':function(_0x3f752b,_0x1a833b){return _0x3f752b+_0x1a833b;},'YRGRX':function(_0x5ecf2a,_0x206de0){return _0x5ecf2a+_0x206de0;},'toNFs':_0x54f81e(0xc4,'ZyHC'),'DaDlV':function(_0x1d29be){return _0x1d29be();},'NwDzl':function(_0x39b2b6,_0x5661a4,_0x3e07a7){return _0x39b2b6(_0x5661a4,_0x3e07a7);},'lkHVP':function(_0x288b8c,_0x167e7d){return _0x288b8c*_0x167e7d;},'BcxAa':function(_0x35d89c,_0xb3167b){return _0x35d89c===_0xb3167b;},'VXqis':'KAYyy','osmLf':_0x54f81e(0xcf,'c@&v'),'RnBFX':function(_0x387f54,_0x12ae5b){return _0x387f54+_0x12ae5b;}};if(!cookiesArr[0x0]){$['msg']($[_0x54f81e(0x129,'c@&v')],_0x54f81e(0x8d,'Kcjv'),_0x54f81e(0x98,'5nf9'),{'open-url':_0x392a59[_0x54f81e(0x116,'Rl6m')]});return;}for(let _0x251652=0x0;_0x392a59[_0x54f81e(0xb8,'5nf9')](_0x251652,cookiesArr[_0x54f81e(0x87,'L]gG')]);_0x251652++){if(_0x392a59[_0x54f81e(0x76,'DymD')](_0x54f81e(0xdc,'mWF['),_0x392a59[_0x54f81e(0x9a,'1lYb')])){if(cookiesArr[_0x251652]){cookie=cookiesArr[_0x251652],$['UserName']=_0x392a59[_0x54f81e(0x127,'ygR8')](decodeURIComponent,cookie[_0x54f81e(0x11e,'RG$8')](/pt_pin=([^; ]+)(?=;?)/)&&cookie['match'](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$[_0x54f81e(0x91,'MLse')]=_0x251652+0x1,$['isLogin']=!![],$[_0x54f81e(0xac,'MLse')]='',message='',console['log'](_0x392a59[_0x54f81e(0x10f,'dr#v')](_0x392a59[_0x54f81e(0x78,'MLse')](_0x392a59['sXjig']+$[_0x54f81e(0x91,'MLse')]+'】',$[_0x54f81e(0x106,'nikN')]||$[_0x54f81e(0xa7,'V5Ho')]),'*********\x0a'));if(!$['isLogin']){$[_0x54f81e(0x89,'dr#v')]($['name'],_0x392a59['QrOIJ'],_0x392a59[_0x54f81e(0x119,'zf)$')](_0x392a59[_0x54f81e(0x10a,'V5Ho')](_0x392a59[_0x54f81e(0x125,'5nf9')](_0x392a59[_0x54f81e(0xef,'UJ%6')](_0x392a59[_0x54f81e(0xa2,'jKc*')],$[_0x54f81e(0x80,'jKc*')]),'\x20'),$[_0x54f81e(0x101,'mWF[')]||$['UserName']),_0x392a59[_0x54f81e(0x118,'L]gG')]),{'open-url':_0x54f81e(0xea,'Kcjv')}),$[_0x54f81e(0xa9,'mD7Z')]()&&await notify[_0x54f81e(0xe3,'dr#v')](_0x392a59['SiQdm']($[_0x54f81e(0x122,'eWMW')],_0x54f81e(0x96,'B3dG'))+$['UserName'],_0x392a59[_0x54f81e(0x9d,'vzrK')](_0x392a59['YRGRX'](_0x392a59['rqEDR'](_0x392a59['eIfMZ'],$[_0x54f81e(0x8b,'eWMW')]),'\x20'),$['UserName'])+_0x392a59[_0x54f81e(0xde,'RG$8')]);continue;}await _0x392a59['DaDlV'](fansapp_query),await $[_0x54f81e(0xcd,'2DfQ')](_0x392a59[_0x54f81e(0xd8,'ZQT(')](parseInt,_0x392a59[_0x54f81e(0xc9,'sIjF')](Math[_0x54f81e(0xbe,'5nf9')](),0x3e8)+0x1f4,0xa)),await _0x392a59['DaDlV'](fansapp_draw),await $[_0x54f81e(0xa1,'ZQT(')](parseInt(Math[_0x54f81e(0xbd,'tYl$')]()*0x9c4+0x9c4,0xa));}}else _0x2a0fa4[_0x54f81e(0x111,'zKKZ')](_0x4843b9[_0x420c57]);}if(allMessage){if(_0x392a59[_0x54f81e(0x81,'tYl$')](_0x392a59[_0x54f81e(0x79,'UJ%6')],_0x54f81e(0x124,'UsQ!')))_0x392a59[_0x54f81e(0xd3,'UJ%6')](_0x40bec0,_0xd530d6);else{if($[_0x54f81e(0xa5,'nikN')]()){if(_0x392a59['nJPWd'](_0x392a59[_0x54f81e(0x11d,'zf)$')],_0x392a59[_0x54f81e(0xd9,'QA#]')])){_0x95b8b[_0x54f81e(0x9b,'1lYb')](_0x3e8955[_0x54f81e(0xd5,'5nf9')],_0x392a59[_0x54f81e(0xd0,'y3T(')],_0x392a59[_0x54f81e(0xb1,'UsQ!')],{'open-url':_0x392a59['ICXhl']});return;}else await notify[_0x54f81e(0xfd,'fk2@')](_0x392a59['RnBFX']('',$['name']),'');}$[_0x54f81e(0x108,'RG$8')]($[_0x54f81e(0xff,'Cf$q')],'',allMessage);}}})()['catch'](_0x415cab=>{const _0x5c679f=_0xdce6ab,_0x261e83={'xutwW':function(_0x4f26f5,_0xc045b9){return _0x4f26f5+_0xc045b9;},'rsfpg':function(_0x5a6e88,_0x5deedf){return _0x5a6e88+_0x5deedf;},'YHGON':_0x5c679f(0xc1,'MLse')};$['log']('',_0x261e83[_0x5c679f(0x102,'GHVq')](_0x261e83[_0x5c679f(0xa3,'Rl6m')](_0x261e83['rsfpg']('❌\x20',$[_0x5c679f(0x99,'nA7E')]),_0x261e83['YHGON']),_0x415cab)+'!','');})[_0xdce6ab(0xf7,'GG1O')](()=>{$['done']();});function fansapp_query(){const _0x59d22c=_0xdce6ab,_0x2bb037={'EuAVY':_0x59d22c(0x73,'DymD'),'cWMIt':_0x59d22c(0xe0,'mD7Z'),'gJEji':function(_0x61ff5a,_0x6b49f2){return _0x61ff5a===_0x6b49f2;},'PpAlU':'NXQlk','doHHv':function(_0x5ab1b2,_0x3ba8f6){return _0x5ab1b2(_0x3ba8f6);},'FQsIX':_0x59d22c(0xfc,'QA#]'),'QdUgn':_0x59d22c(0xb2,'nA7E'),'TvsuH':'keep-alive','SeIqV':'https://wqs.jd.com/'};return new Promise(async _0x56ced2=>{const _0x2c9ed7=_0x59d22c,_0x413209={'TmxPT':_0x2bb037[_0x2c9ed7(0xc6,'jKc*')],'KZCMm':_0x2bb037['cWMIt'],'IZPSH':_0x2c9ed7(0x94,'cKFU'),'dCDfI':function(_0x44fd7b,_0x5830e2){const _0x2be140=_0x2c9ed7;return _0x2bb037[_0x2be140(0x120,'5nf9')](_0x44fd7b,_0x5830e2);},'SDCHi':_0x2c9ed7(0xc2,'5nf9'),'OTkGl':_0x2bb037[_0x2c9ed7(0x7b,'zf)$')],'fsytO':function(_0x496dc8,_0x645050){return _0x496dc8!==_0x645050;},'RvNFm':'cjvcF','JFfit':function(_0x527303,_0x4caa3d){const _0x1e4fc2=_0x2c9ed7;return _0x2bb037[_0x1e4fc2(0xe9,'c[5e')](_0x527303,_0x4caa3d);}},_0x32bb86={'url':_0x2c9ed7(0x7e,'c[5e'),'headers':{'Accept':_0x2bb037[_0x2c9ed7(0xe6,'kgX!')],'Accept-Encoding':_0x2bb037[_0x2c9ed7(0xee,'MBnV')],'Accept-Language':_0x2c9ed7(0xab,'kgX!'),'Connection':_0x2bb037[_0x2c9ed7(0x70,'ZQT(')],'Cookie':cookie,'Host':_0x2c9ed7(0xd4,'MLse'),'Referer':_0x2bb037[_0x2c9ed7(0xe2,'5nf9')],'User-Agent':_0x2c9ed7(0x11a,'dr#v')}};$[_0x2c9ed7(0x9e,'DymD')](_0x32bb86,(_0x20aca5,_0x1bbe7d,_0x291ac9)=>{const _0x2bb839=_0x2c9ed7,_0x201af2={'SDwMc':_0x413209[_0x2bb839(0xce,'V5Ho')],'pAoQA':_0x413209[_0x2bb839(0xe8,'zf)$')],'YDdYO':_0x413209[_0x2bb839(0xc7,'c@&v')]};if(_0x413209['dCDfI'](_0x413209[_0x2bb839(0xc5,'mWF[')],_0x413209['OTkGl']))return _0x3ec8a2[_0x2bb839(0xbf,'zKKZ')](_0x13cb1a),_0x346469[_0x2bb839(0x11b,'fk2@')](_0x155c5a[_0x2bb839(0xda,'6Vf^')],'',_0x201af2[_0x2bb839(0xf9,'@^M)')]),[];else try{if(_0x413209[_0x2bb839(0x8f,'jKc*')]('JyraX',_0x413209[_0x2bb839(0xca,'tr%5')])){if(_0x20aca5)console[_0x2bb839(0xb9,'GHVq')]('\x5cn'+$[_0x2bb839(0xbb,'GyzU')]+_0x2bb839(0x117,'zf)$')),$['logErr'](_0x20aca5);else{}}else _0x5056ac=[_0x462441[_0x2bb839(0xc8,'mD7Z')](_0x201af2['pAoQA']),_0x2c0f92['getdata']('CookieJD2'),..._0x21fe68[_0x2bb839(0x97,'MDC8')](_0x24f09a['getdata'](_0x201af2[_0x2bb839(0xba,'DymD')])||'[]')[_0x2bb839(0x115,'B3dG')](_0x1db9d4=>_0x1db9d4[_0x2bb839(0x123,'Rl6m')])][_0x2bb839(0x105,'vzrK')](_0x9d4673=>!!_0x9d4673);}catch(_0x422b81){$['logErr'](_0x422b81,_0x1bbe7d);}finally{_0x413209[_0x2bb839(0xf8,'5nf9')](_0x56ced2,_0x291ac9);}});});}function fansapp_draw(){const _0x5d9f3b=_0xdce6ab,_0x4bf06b={'COTUn':function(_0x4f6e84,_0xf0e419){return _0x4f6e84===_0xf0e419;},'WaKKi':function(_0x53b403,_0x349dc5){return _0x53b403>_0x349dc5;},'rXfAB':_0x5d9f3b(0xf1,'MBnV'),'tvAsX':function(_0x2b824c,_0x14c7c0){return _0x2b824c!==_0x14c7c0;},'bneJY':_0x5d9f3b(0xdb,'MDC8'),'AnDbC':_0x5d9f3b(0x71,'cKFU'),'OJIqF':':\x20API查询请求失败\x20‼️‼️','lKsLi':_0x5d9f3b(0x107,'mWF['),'PgvAI':'活动太火爆了，请稍后再试~','uwvDC':_0x5d9f3b(0xbc,'kgX!'),'poQkI':function(_0x323a86,_0x29ba68){return _0x323a86(_0x29ba68);},'SiOKd':'https://wq.jd.com/activet2/looktreasure/draw_fans?_=1676627469969&sceneval=2&g_login_type=1&callback=openLibao&g_ty=ls&appCode=msc588d6d5','bGpOe':'*/*','nzzwV':_0x5d9f3b(0x109,'ygR8'),'jJbwO':'zh-cn','HHUNa':_0x5d9f3b(0x10d,'fk2@'),'YOEhC':_0x5d9f3b(0xaa,'zKKZ'),'ZLlEm':_0x5d9f3b(0xfe,'Kcjv'),'anpxH':_0x5d9f3b(0xa8,'QA#]')};return new Promise(async _0x2d0319=>{const _0x1138e4=_0x5d9f3b,_0x405acb={'TBNFj':_0x4bf06b['OJIqF'],'Jcche':function(_0x14b5e7,_0x2c7ebe){return _0x14b5e7+_0x2c7ebe;}};{const _0x5d48cd={'url':_0x4bf06b[_0x1138e4(0xf0,'mWF[')],'headers':{'Accept':_0x4bf06b['bGpOe'],'Accept-Encoding':_0x4bf06b['nzzwV'],'Accept-Language':_0x4bf06b['jJbwO'],'Connection':_0x4bf06b[_0x1138e4(0xd2,'fk2@')],'Cookie':cookie,'Host':_0x4bf06b[_0x1138e4(0x7c,'UsQ!')],'Referer':_0x4bf06b['ZLlEm'],'User-Agent':_0x4bf06b[_0x1138e4(0xcb,'L]gG')]}};$['get'](_0x5d48cd,(_0x1bfd4d,_0x5109d9,_0x277216)=>{const _0xf62771=_0x1138e4,_0x38f45f={'TmpKp':function(_0x205378,_0xba10b1){const _0x1fcb8a=_0x1b1a;return _0x4bf06b[_0x1fcb8a(0xaf,'@^M)')](_0x205378,_0xba10b1);},'ZhyOL':function(_0x1dba26,_0x54d7a1){const _0x5b6f2d=_0x1b1a;return _0x4bf06b[_0x5b6f2d(0x112,'cKFU')](_0x1dba26,_0x54d7a1);},'KjgpS':_0x4bf06b[_0xf62771(0x113,'y3T(')]};try{if(_0x4bf06b['tvAsX'](_0x4bf06b[_0xf62771(0x93,'MLse')],_0x4bf06b['AnDbC'])){if(_0x1bfd4d)console[_0xf62771(0xa4,'kgX!')]('\x5cn'+$['name']+_0x4bf06b[_0xf62771(0x126,'cKFU')]),$[_0xf62771(0xfb,'ZyHC')](_0x1bfd4d);else{if(_0x4bf06b[_0xf62771(0x7f,'c[5e')]==='WZxHt')msg=_0x277216[_0xf62771(0xfa,'Wyn^')](/"sPrizeName":"(.*?)"/)&&_0x277216[_0xf62771(0xe1,'GyzU')](/"sPrizeName":"(.*?)"/)[0x1]||_0x4bf06b['PgvAI'],console[_0xf62771(0xcc,'tr%5')]('获得:\x20'+msg);else{if(_0x857fd2)_0x2c6aaa[_0xf62771(0x85,'V5Ho')]('\x5cn'+_0x416fb6['name']+_0x405acb[_0xf62771(0xb6,'2DfQ')]),_0x4b6c55[_0xf62771(0x95,'GG1O')](_0x14c42b);else{}}}}else _0x1273ca['log']('',_0x405acb[_0xf62771(0x8a,'ZyHC')](_0x405acb[_0xf62771(0xae,'GyzU')]('❌\x20'+_0x3326e9[_0xf62771(0x128,'MLse')],_0xf62771(0x100,'y3T('))+_0x5f3af,'!'),'');}catch(_0x331cb1){console[_0xf62771(0xb4,'UsQ!')](_0x4bf06b[_0xf62771(0x74,'sIjF')]);}finally{if('rlaiJ'!==_0x4bf06b[_0xf62771(0x121,'mD7Z')]){_0x488845['keys'](_0x2b56a0)[_0xf62771(0xed,'@^M)')](_0x4a0e3d=>{const _0x4192d9=_0xf62771;_0x20e873[_0x4192d9(0xc0,'nA7E')](_0x5c47af[_0x4a0e3d]);});if(_0x332eb2['env'][_0xf62771(0x72,'5nf9')]&&_0x38f45f[_0xf62771(0x104,'MBnV')](_0x4d8a01['env'][_0xf62771(0xd7,'cKFU')],'false'))_0x35c8f5[_0xf62771(0xf6,'jKc*')]=()=>{};if(_0x38f45f[_0xf62771(0x88,'mWF[')](_0x357eae['stringify'](_0x11be10[_0xf62771(0xeb,'zf)$')])[_0xf62771(0x12b,'GHVq')](_0x38f45f[_0xf62771(0x9c,'nikN')]),-0x1))_0x17939a[_0xf62771(0x10c,'tr%5')](0x0);}else _0x4bf06b[_0xf62771(0x92,'2DfQ')](_0x2d0319,_0x277216);}});}});}function _0x5ac1(){const _0x25fac7=(function(){return[...[version_,'ngTpjQIbsnjiyKaEFHmi.uNcxogm.fnXv7gTebDy==','eX8FvmkdW7LW','w8oeoLddRW','WQxcOmoUza0','lJldQSkQW78','W7ddQ8k2WOa8Bq','W5lcRCou','pCoEWObaWQmkkYpdLbW','w8koAv5wASkOW47cR8oSW5pdVb4FW7ddTSkoW7FcOa','mmkzWRXx','gSo75Aso6lwqfCox5y2y5zInzmkU','aKdcPSoffYFdPca','FNz6oCo6','WPdcHCo1wGS','ymoyWP5dpa','W73cMqLuiru','WO1PW4W8x0GBW6m','o3pcVCoMlq','W5KKW6u','b8oMWQhcSmkiamoIe0CZuq3dNSo3xrlcHa','WQxdRCkgdLu','6kYY5yU+6zUw5OsX5z6OkmoVW6mBW53OVytLHilMOP/KVP/MLl3LHzxLRQ7dKUw7SEIVVEMdREI/M+IfMoACTEwmR+ImKUwmQSo4mmkoW6jHDq','D8olyCob','jCoEWOTuW4aemYpdHaa','bSoplHGvzSorWOBcTCooW4/cOW','lfWQtCoT','DGFdHmkHW5ScW4q','WRv0kLy','Amo1eetdSW','rmkdwtr2','WRnvW41PWO3dNmkjxmo8aq','rCoDW6W','WQtdSSo6umod','W7miW7hdMXZMNBxORzVORjxMSQZLPk/OT6ddGEkaU++6SEkcJU+7RW','aMxdHLBdJW','WOrfW4ddQJW','fveAwCoWt8k6tmoRu8ocySokW65PW6ZdTJaPkqNdRComWPjzWO3dOSk3W6/cTSorDCkqWPaTpI7cImkqWPubW7FcPgRcM8kzW4hcTSoPyI8hbCkPW4JdMdr8vmomtJNcUSo3b8o6vSkaWPKYsSkHzWu7x2OtyMGlcwnKcSkmW5DAW5P4vsXCDCkEDmklWOmmWPRcO0PGW4VcKCktwSoujXVdHmo8WPv0WRGzWO1zW4/dPmkLW6pcP8kXtCouW48XybjKiSkSCCkYeK7cJ8knnchcLmo0zv1zEctcLSoLW67cNKiFWR9ExNddJmkbFIpcHexcQSomWQRdOHtdHSk8WQK2W7SsjmknbePVhYODWPKetmoOEfvZnumJkCkthCoCmwRcISkfhJ7dJ2ldNmkjWQvbWPBdT8oDWPmFW4afuuxdGcldPCkqWRHGfmkElJtcRCkQpMvNWOxcOLT4smotWO3dR0pcTmkdW7JcPZPZW4JcPG7cQ8kWWOldMbtcS0Dga8oKWRu+CSkhWQqRmSkFWPtcG8oqE2PWW7/dO8k2fSoozJtcMCoLWQddMazAESooj8kHW4L6W7JcGCkLoHzGW5WTqCkYWPRdLvJcNCooWR5UEbldRCoMq8otWOf1WP8YW6NdQ8o7W7FcRfLQaG/dQbqkWReBzsJcQ8oxW583W5BcISkLWRVcICkZW7mRW5qMW7/cRNLuW7SGW43dUYSEfSkrWQmlbLHlWOGTASoQxW8KW4zQxCk7W4BdQmktp8kgWP/dVSo+cwPknSkFmCktwc3cUmoNdmoso8oJlGVcM8kti1ZdSeBdLCkzW6tcTmkFff3cISkXjCobWPjLjdbEWPi/W4SHWRNcOSoHWP92WOVcMCkKr2hcNZRcHIicsvtdMJBdV8kWW7qJWO7cJmkkW73dOu0eWRC2CmoWW6yUW7NdLKCvW6NdOJ05lCk3WQZcVCoAWRlcM8kDWPNcVeRcImoKW6RcJqGQWRlcQZZcR8k+wCkqW5FcJSoxWQbDo8o9pmoiomoZESoVWR3cKCklW4DsfGVcIr/dOsBcKCkne8kIWQjmWOj0ksG1CCkGWP1YsmoiaKrWW7FdQN3cH8kJW6DKl8oTW63cMCkpW701oeZcV8kxkMBcT8oWCCoev1rIWPBcOCkHW6jiWPqft8kNWPJcVSkiW6/cIKldGCo2uCkGiuZdHmoPh1HiW6jdW4jBW69aWRqXWQS6jMdcKSoAACkhWP/dJdzNW6xcRCoUDKlcPSkvuWBcMmkBgK1Js8kRm2ZdSmo3y8kIuSoyW4z6BaGHWRFcKwC8WR7dRJxdLrlcN8kIW7pcVfr7nCkOWOy','i8oiWOK','aSokF2TumSooWPu','WQzBW53dHZm','W5K2W7ygW50','W47cSmooWPFdHG7dGc/dP2xcGCoc','DSoigvpdSG','mCkmW7NdPSoi','rwPSla','WO7dNSonu8ogWQO','W5mbWPtcVe0','xmoVlfJdSG','CmoEeN7dNa','dmo3WPlcOCop','uq3dSe0','p1WFgW','W4eWW5qUWQldQ8ooEG','B21Qk8ovu8kz','W70EWOdcSWtdM8oYWPhcGwy','WR02WOZcVmotW40rW7VcOLi','WP/cHWPdWQK','xCo9euNdNq','w8oga33dNKGTW7i','6k+55yUD6zU35OAy5z2bhSoyW4FdSmkS6l6J5yAv5Qkh5lYD5PAb5yA+5A+3vEw6U+IUPEMaUEI9ToIfJ+AEIUwnPEIoKEwoHmkFcXPGW7rU','WOyCW6WVFq','WPRcMs9qWQy','ygGOW4an','m8kTWO/dPmkiimoPEmoSWPCVW4xcJ3aCW4mSW7CbW53dHLGAjs/dTr3cRL3dJSkcW5nyk3j9W4/dNu3dImkgfcq'],...(function(){return[...['CGhdRuNdNa','W4KBWOFcQCo8','W4ZcTqhcUt8AWRJdHG','WPLyW7hdPWa','W6m0WRFcMK0','xN/dM3/dHJpdJa','W7dcNmotW4auvmoEW7LZW4PNW6JdQtaOWPZdVteItCoTo8kMW7ddRYNdIYnFxmomWQ0WvbZcRtdcHWtdMmk2Bmozt8oBW4WHW7tdQNNcVSoXWQxcOh7dLWPEW6hdOCkneSoCWPifs8oSWPiBW7RdQCoTWQi4y8kfrq5WyCk0e8oVWRNdKLtcQbpdG8oJWPpdIIhcP8kmW7zCW6bRWRddNSoRW6rpvSktW6SnW7XMW4j0kNNcOCokqmkuWOa7qbldMmkFiSkAs3lcICkAWPVcT8knW6mSvCo2q8kx','W7tcO8ouW7Wo','sx3dUKtdLG','W7OryLBdQW','W4pdU8kcpSkVW4OThxy','gSknWQRcUtxdGvZdMSoRW5NdTSk2W5aM','W77cNHm','WRVdS8kK','W6xdUSkB','b07dR3ddVJu','nKhcVmoHfq','eKyC','W5BdP8kYWQ0R','qMvLlcO','W7ZcLrfejrpdTG','44cJ5OYQ56sN44c/6k+s5ysy6iYW5yY35lM05lQb6lAg5yYL5lM0gmkXW7RcISoZW6RcO+EzSEAmIEs8S+EvUvnxcNmsh+EAJEs6Tos4I+EVPEwjP+ImSEwpRa','W4JdQCkplmkb','rMddP1xdOq','rSk6tqzr','vGldUu3dJq','W7imWQK7WPC','xqldUgldRa','Fmo7ngtdS1LHW4qE','grKwCmkDW6C','s8otW7pdOMxcKUw2NEwNMEAxMSk3WPNdNW','l8k2WRtdTSkr','ECo2keNdQdbxWPOFW4ZdNNyadvCjWQymWQVcPCkrnXpdISkCo8ovmSoCWPTmWQGIW5WAqsNcQCoVWRe4W63dIq','W67dTCkama','WP7dG2FdLXu','WPddG2O','WQHQW4GNqG','W7lcNcXXna','AuCm','WO7cV8o3DSoFs8ofW6jEWPjjW7hcTG','W58dWPVcHG','WRZcKbbc','rvRdUgZdTa','WP/dGSoesmoi','W6pcTqK','WOPZW6e4DuW','yCohESoCW6Cr','WOldR8kMoeNdVSkMaG','WPldPSkFW5lcHqtdKYddSu7cLmonW7ldT3SqWPTuW7tcJxRcMCkmCsjao2hcNK3cRGNcTmkQW540WRHxW77cVctcJaBcTmkww31GWOmmWQ/cN3bmW7hdRYpdHCo0yCoNWRxcTSk+n07cJg42DJpcTmo+W6/cGZijlqhcRmo9kx99f17dL8kcWPPxoSojkYCpfSkDW43dS37dJmkhW5iWW7pcKCoHcSoVW4Lvvmopz1JdIbjhaSoiC8k0vgNdNf1vzSk0WQdcHmomwNu4EmkJW6FcGIJcGConW7RcPSo5eSoMWOtdHc9Loe96W4j6ESoCaSoWW7uRWRpcImkWzSo2WPzQWRFdUvZcTSoqgCoqWQJdVmobWOfpdSoOWQi1W5yzDJtcOmoKW7xdOmkTtaVcKCo9fSkIW6xdUSo2WR1mWOtcGgVdH8kfWRJdQcBcGvtdKbTMccxdRSoMWQHIWQVdN8oHWQWQW7SlWPJdHI7dRSoZWQhcKg7cNgf7W4xcKry8W5/cOfb5mCoWsa1cWOPTWO3cOaJdMSk1kmkCB8o4WRuSlmk4odpcOmotWRBdVCkmWQtcP8o+WOtcLrL5buZcS8oGxIeZzSoiF8kgqSoUk8kmcvNdLmoher8Iwmkmq0xdQZWiW5FdT8kImKpdTSoepmkLW4nLW6rAW6y3W6iWW4T0WPzFlJdcOhhcKtZcSfZdRtBdM29TeN8yWRyYxGHJaCoLWQbXW4GuqMj1WRfPW4u6W6WdWQNdMSkMwmoAsd5kWRldJ0/cI8oZWRNdU8oJW6FcNXxdIatdPL1ebCo5W4JcPrNdRw9ZrConpe59W4j9W6hdHaNcPZ8yAmkNp0tcG8oYWQZcOb8AWRJdNGRcVvFcJ8oEW7xcHmkiWR/dTeNdNM/cKMm4kmoQW6NcSCkkmvFdUr/cJSojWQRdTJtcOxtcOudcSr3dK2nsW5X6WQKUBL/cQ8kxh8k3rmoiqCk0aCkbtSkzW6ZcJG5zW5ddUL/cNK/dISk/g8oWW6nhs8o6BSkiWOhdJ8klWQxcJ8oVW5epW7vIxHPTzttcRSkgbrpdMSo7mxKieHJdLCk2W7tdMSkNyajohWhcHmopW7npWOBcNWRcNCk/a8oBqCouWRpcVMVcQCoMW4xdVqWMWRZdKmkDouDNqSkgWQVcNCo2fLdcHSo1g0BcRMRcKmkctfjQW6BcMmohaNfLW4LwCSkhohidWPtcUNhcQSobWQOLWPRdImo7WQ3cOwFcTHlcINnRpmovsSkrW5NcO0msWPKEWQtcTWCnWReYgbxcRbpdJYFdRcNdJSk+W4zgW4tdK8ozDrGWCgSjpfn9W4tcOqxdQwZdOG','lCkiW4hdJCoVW50','WRjWD1tdPetdO8o0pa','W7xcSKpcStG','uqxdVKpdU1ddGdG','44kp5O6t56Em44orW6WhgmorW6JcLEw1RowLMoAwLG','WRPHW7iPWPq','WRxcQ8onFaa','W5BdGmkoWOelxv5V','W7m4WQRcMMi','W6FdRSkejCoQWO86mLtdKJNcVSkxut3dRCk+','W7/cJCotW5qggSkq','W5yuWPu','ASoVW47cRCkOFSkip8o4WQC','W5yHWRywWRq','WRbVgCk/WOZdNtCy','ymoxpxFdKG'],...(function(){return['AMXP','v2yCW44M','WP5JW7WK','W73cTG/cUXW','W4OtDhpdPsm','y8oJmL3dTgC','WQLUpG','W7ddOCkEpq','e0ZLPQZOTi3cLbhLJllLMR3dTSk6','zSoReN7dIG','iSkXBWJcQJ5iW705W53dSvv3','WPBORBpPHjZMLBxNMlxLVyROJRZLJ74opSo2DsddIq','p23cHSoMma','zwBdN3FdTW','ggCIlwy','i8kEW7VdHSoQW4ZdNW','WROqW5i4za','qmofrSoZW6q','cKxdSw/dGG','FSoCBW','W7ucWPeK','WOpdSCk7gLm','h3G1h28','qSkZArHe','WRddUCk3lMBdQ8kQ','bSoZWRTQWOW','W7iUWOtcSSo5','sb3cS0ldKr/dJJlcOq','F8oJmvW','W7xdT8kFWQOQEG','DCoqbeVdN35hW4K','WOxcHJ1mWO0','WPFdSCktW67cKW','W5ldP8kTkW','iSkUWPJdTCkt','h2BcI8oVda','zSomW6mcWQ3cQ8o7W6SEW64Dpq','W4a4W4WJW4y','5lMp5lIC6lAj5y6G','b8kuW6ddICoIW53dTfy','WP1JW6uIWPK','qSoNfuJdJq','dfavtCoog8kVs8oPwa','x8oqWPD7','wHVdO1ldUZ/dICkm','W4NcIX3cMW4','BmobW6ykWQ3cOCkoW5WXW4u+l0a','WOjYW7pdHJG','W7ZcH8oVW7Gr','w8koAv5wASkOW47cUSo4W4hcVfOwW7ddV8kfWRtdRmogW6JcGY40FfzhEt8zz1f5W78YW74uWQLSW7BcGtqa','WQXgW4y','WQrBW5C','WPdcI8oRBa/dSSkY','zCorWRTViG','W7GjWQFcKSom','p0dcISoLpq','C8o8WRPagCkm','W47cGZ7cRehdJ2RdQ2pcM2RcGti','qenca8oFWQnFqSk1WQ1yW7y','DwhcRSo8WQrDW7OaWPuhW7md','hmkqWQ/dNmkUwa','thZdUq'];}())];}())];}());_0x5ac1=function(){return _0x25fac7;};return _0x5ac1();};function jsonParse(_0x363c75){const _0x2c3954=_0xdce6ab,_0x1aa4ac={'QhVfG':function(_0xfb232,_0x496a8a){return _0xfb232==_0x496a8a;}};if(_0x1aa4ac[_0x2c3954(0x75,'ZQT(')](typeof _0x363c75,_0x2c3954(0xa6,'tr%5')))try{return JSON[_0x2c3954(0x90,'y3T(')](_0x363c75);}catch(_0x2663cf){return console['log'](_0x2663cf),$[_0x2c3954(0xec,'zf)$')]($['name'],'',_0x2c3954(0x10b,'zKKZ')),[];}}var version_ = 'jsjiami.com.v7';



// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }