/*
会场红包雨
cron "2 2 29 2 *" jd_redRain.js
*/
const $ = new Env('会场红包雨');
const notify = $.isNode() ? require('./sendNotify') : '';
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
var version_='jsjiami.com.v7';const z=i;(function(a,b,d,e,f,g,j){return a=a>>0x8,g='hs',j='hs',function(k,l,m,n,o){const y=i;n='tfi',g=n+g,o='up',j+=o,g=m(g),j=m(j),m=0x0;const p=k();while(!![]&&--e+l){try{n=-parseInt(y(0xa4))/0x1+parseInt(y(0x10d))/0x2*(-parseInt(y(0x13b))/0x3)+parseInt(y(0x135))/0x4+parseInt(y(0xe2))/0x5+-parseInt(y(0x102))/0x6*(-parseInt(y(0x14f))/0x7)+parseInt(y(0xef))/0x8*(-parseInt(y(0xca))/0x9)+parseInt(y(0xf5))/0xa;}catch(q){n=m;}finally{o=p[g]();if(a<=e)m?f?n=o:f=o:m=o;else{if(m==f['replace'](/[xTCDMAwGdKNLEXuJVYfqt=]/g,'')){if(n===l){p['un'+g](o);break;}p[j](o);}}}}}(d,b,function(k,l,m,n,o,p,q){return l='\x73\x70\x6c\x69\x74',k=arguments[0x0],k=k[l](''),m=`\x72\x65\x76\x65\x72\x73\x65`,k=k[m]('\x76'),n=`\x6a\x6f\x69\x6e`,(0x1231fc,k[n](''));});}(0xbe00,0x4a0c0,h,0xc0),h)&&(version_=h);let cookiesArr=[],cookie='',message;if($[z(0xd3)]()){Object[z(0xf3)](jdCookieNode)[z(0x130)](a=>{const A=z;cookiesArr[A(0x14b)](jdCookieNode[a]);});if(process[z(0x132)][z(0x90)]&&process[z(0x132)][z(0x90)]===z(0x11d))console[z(0x15a)]=()=>{};}else cookiesArr=[$[z(0x152)](z(0x138)),$[z(0x152)](z(0x158)),...jsonParse($[z(0x152)](z(0xae))||'[]')[z(0x98)](a=>a[z(0xc8)])][z(0xce)](a=>!!a);(function(){const B=z,a={'IspRo':function(d,f){return d(f);},'wkwzW':function(d,f){return d+f;},'LqHil':B(0xff),'NKOAs':B(0x137),'VLROa':function(d){return d();}};let b;try{const d=a[B(0xad)](Function,a[B(0xfe)](a[B(0xfe)](a[B(0x12f)],a[B(0xe3)]),');'));b=a[B(0x123)](d);}catch(f){b=window;}b[B(0xeb)](c,0x7d0);}()),$[z(0x109)]=[],!(async()=>{const C=z,a={'BhqrE':C(0xb3),'ItPUP':C(0xa6),'DUSxD':C(0xc9),'gWqzi':function(b,d){return b<d;},'fDdmd':function(b,d){return b(d);},'kdncL':function(b,d){return b+d;},'eZxRc':function(b,d){return b(d);},'nxWce':C(0xde),'UtObI':function(b,d){return b(d);},'QCnys':function(b){return b();},'YkiSG':function(b,d,e){return b(d,e);},'CLWmt':function(b,d){return b+d;},'eXAeG':function(b,d){return b*d;},'YEXiL':function(b){return b();},'dcGgo':function(b,d,e){return b(d,e);},'AjiGn':function(b,d){return b+d;},'ETwED':function(b,d){return b==d;}};if(!cookiesArr[0x0]){$[C(0x149)]($[C(0x169)],a[C(0xed)],a[C(0x91)],{'open-url':a[C(0x91)]});return;}console[C(0x15a)](a[C(0xaf)]);for(let b=0x0;a[C(0xf9)](b,cookiesArr[C(0x129)]);b++){if(cookiesArr[b]){cookie=cookiesArr[b],$[C(0x111)]=a[C(0x116)](decodeURIComponent,cookie[C(0xf6)](/pt_pin=([^; ]+)(?=;?)/)&&cookie[C(0xf6)](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$[C(0x168)]=a[C(0xfa)](b,0x1),$[C(0x147)]=!![],$[C(0x122)]='',$[C(0x101)]=a[C(0xa0)](getUUID,a[C(0x9c)]),$[C(0x148)]=a[C(0xa3)](getUUIDSTR,0x10),message='',console[C(0x15a)](C(0x131)+$[C(0x168)]+'】'+($[C(0x122)]||$[C(0x111)])+C(0x154));if(!$[C(0x147)]){$[C(0x149)]($[C(0x169)],C(0xa2),C(0xb2)+$[C(0x168)]+'\x20'+($[C(0x122)]||$[C(0x111)])+C(0x157),{'open-url':a[C(0x91)]});$[C(0xd3)]()&&await notify[C(0x15f)]($[C(0x169)]+C(0x153)+$[C(0x111)],C(0xb2)+$[C(0x168)]+'\x20'+$[C(0x111)]+C(0xe0));continue;}$[C(0xe5)]=![],await a[C(0x103)](getUA),await a[C(0x103)](hby_homeData),await $[C(0xdc)](a[C(0xbf)](parseInt,a[C(0xb1)](a[C(0x159)](Math[C(0x11e)](),0x3e8),0x258),0xa)),await a[C(0x120)](hby_lottery),await $[C(0xdc)](a[C(0x93)](parseInt,a[C(0xfd)](a[C(0x159)](Math[C(0x11e)](),0x5dc),0x3e8),0xa));if(a[C(0x164)]($[C(0xe5)],!![])){console[C(0x15a)](C(0xd7));continue;}}await $[C(0xdc)](a[C(0x93)](parseInt,a[C(0xfd)](a[C(0x159)](Math[C(0x11e)](),0x9c4),0x9c4),0xa));}})()[z(0xc0)](a=>{const D=z;$[D(0x15a)]('','❌\x20'+$[D(0x169)]+D(0x118)+a+'!','');})[z(0xb7)](()=>{const E=z;$[E(0x97)]();});async function hby_homeData(){const F=z,a={'mOhfu':function(b){return b();},'KBlCb':F(0x16b),'aVXLX':F(0x8f),'gplyM':F(0xbd),'JCaXZ':F(0x94),'MGNOJ':F(0xb8)};return new Promise(b=>{const H=F,d={'eRBeQ':function(e){const G=i;return a[G(0xc3)](e);}};options={'url':H(0x106),'body':H(0x92)+Date[H(0x142)]()+H(0x141),'headers':{'accept':a[H(0x114)],'content-type':a[H(0xdb)],'origin':a[H(0xd6)],'User-Agent':$['UA'],'accept-language':a[H(0x161)],'cookie':cookie,'referer':a[H(0x12e)]}},$[H(0xee)](options,async(f,g,j)=>{const I=H;try{if(f)console[I(0x15a)](''+JSON[I(0xcb)](f)),console[I(0x15a)]($[I(0x169)]+I(0x125));else{}}catch(k){$[I(0x16a)](k,g);}finally{d[I(0xaa)](b);}});});}async function hby_lottery(){const J=z,a={'WfpPs':function(b,d){return b==d;},'YUsgZ':J(0xf2),'jWhqe':function(b){return b();},'BDaRX':J(0x16b),'iISpV':J(0x8f),'CyTjS':J(0xbd),'LEyou':J(0x94),'HipHY':J(0xb8)};return new Promise(b=>{const L=J,d={'MZBFp':function(e,f){const K=i;return a[K(0xfb)](e,f);},'qaRkD':a[L(0xd5)],'BtEUb':function(e){const M=L;return a[M(0x16f)](e);}};options={'url':L(0x106),'body':L(0xa7)+Date[L(0x142)]()+L(0x108),'headers':{'accept':a[L(0x143)],'content-type':a[L(0xd1)],'origin':a[L(0x8c)],'User-Agent':$['UA'],'accept-language':a[L(0xf8)],'cookie':cookie,'referer':a[L(0x150)]}},$[L(0xee)](options,async(f,g,j)=>{const N=L;try{if(f)console[N(0x15a)](''+JSON[N(0xcb)](f)),console[N(0x15a)]($[N(0x169)]+N(0x105));else{res=JSON[N(0xab)](j);if(d[N(0x9f)](res[N(0x9d)],0x0)&&d[N(0x9f)](res[N(0x124)][N(0x15b)],0x0)&&d[N(0x9f)](res[N(0x124)][N(0xe1)],d[N(0x12a)]))try{console[N(0x15a)](N(0xb0)+res[N(0x124)][N(0x127)][N(0xda)][N(0xea)]+N(0x107));}catch(k){console[N(0x15a)](N(0xd8));}else console[N(0x15a)](N(0xb0)+res[N(0x124)][N(0xe1)]);}}catch(l){$[N(0x16a)](l,g);}finally{d[N(0xc7)](b);}});});}function h(){const a7=(function(){return[...[version_,'qfjTwsKDCjtiaumdXEiA.tLcXoMYmuN.vVJx7MVG==','C2v0sw50zxj2ywW','Dg9vChbLCKnHC2u','qMHXCKu','Cg9ZDa','mta5nJGWofzcru5Yyq','uNvPsu0','AMn5s3m','C3vJy2vZCW','A2v5CW','s2rxswu','mZe5mZeXmfDZDMTivG','Bwf0y2G','B2HHDeS','tev5B3u','z1DXEMK','A2rUy0W','v2zWuhm','C2vHCMnO','qwPPr24','D2T3ELC','CMv0DxjUicHMDw5JDgLVBIGPia','wKrHwfi','vvvjra','nJe4wvDlz2Lq','uunUExm','BhDqEgC','igHIEv9SB3r0zxj56k+35Rgc5AsX6lsL77Ym6k+35Qoa5P+L572r6lEV6yEn6k+v','Ahr0Chm6lY9HCgKUBs5Qzc5JB20Vy2XPzw50lMfJDgLVBG','ioE6OUwmHq','jMfYzwe9','DgfZA0XPC3q','ueXpsxK','DgHtBg4','C3HmrM4','nty2nNf3twfWCa','tfHSCxK','B1r3wLm','zeL0z3q','vxnLCK5HBwu','tNb3Bgq','C0X4rLO','s0jSq2i','y29UC3rYDwn0B3i','zKrKBwq','Eenrz08','lcdLPlhOTkuHiowoN+wBOdOG','DgvZDa','zKvLEe8','y2fSBa','CMvWBgfJzq','zMfSC2u','CMfUzg9T','swTkr0y','wuvyAuW','AvnUDLC','BMLJA05HBwu','vKXst2e','zgf0yq','igHIEv9OB21Lrgf0yE+8JoIVT+AJGoAFPEE9KEI3R+MhJEIVLq','C3rYAw5N','CMvZDwX0','CNHOv2S','BgvUz3rO','CwfsA0q','vvP3rfC','AKLwAKS','sNvArKu','tuDot0O','thfiAwW','zM9YrwfJAa','kIOQkIOQ5BYa5AEl44cq5lQS5lIC6lsM5y+3','zw52','C3rHDgvpyMPLy3q','yMLUza','ntCZntmYv1vcsNfY','A1nmEhO','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK'],...(function(){return[...['q29VA2LLsKq','5lQS5lIC5PYn5yQH5zMO6k6/6zEU5PwW5O2U5lI656M677Ym6k+35Qoa5P+L6iEQ6lQR6k6+5Ash572r57UC5Oof5yA1','txbQreu','mZG0vxfvEM5q','ChjVDg90ExbL','v3DHugG','AgnSrgq','BKvwqvG','yxbWBhK','jMfYzwe9jMv4Dd17iNbYC3rHDguIoIiWiN0MBg9NAw5xuujPEJ1OB25NyMfVExu','BM93','qKrHuLG','y291BNrLCG','CKvNAe0','z2DLCG','AxnmB2DPBG','vvvjrfnuuG','BxnN','wxzxwfa','ChvZAa','sNbSrgO','Aw5WDxq','x19WCM90B19F','mJK0odrVvwHRtNC','sgLWsfK','ywfzDMu','z2v0zgf0yq','y29VA2LL5BEY5AsX5Pwiic0G','kIOQkIOQkIOQ','v1vgBfK','DgfIBgu','cUIVT+MhJEAwSoEzU+w9LEIoT+wpLGPODhrWCZOVl2jLyw4UBs5Qzc5JB20VyMvHBI9ZAwDUsw5KzxGUywn0Aw9U','q29VA2LLsKqY','zvHbzuC','Bg9N','yML6q29Kzq','D2HPBguGkhrYDwuPihT9','t3jtv0G','zMXVB3i','C2vUze5VDgLMEq','y29UC29Szq','sKnHwfO','r0nIzKy','zevXsNG','rvr3ruq','thjrsMe','AMrHCha7AvbOB25LoZeWlJqUntSXmY4XlJi7','CM91BMq','Aw5KzxG','BMfTzq','Bg9NrxjY','yxbWBgLJyxrPB24VANnVBG','Dg9tDhjPBMC','q0DTu3K','6k+35yU/6zQp5Osp5zYOqM94sNpOVPpLHAxMOyBKV67MLlNLHOxLRRKk5BU66k6U6ycA6l+h6isA5PYS5y676i635y+wy29VA2LL','ALDOCwu','D2fYCwq','sffRqNi','y2HHCKf0','t0rks00','CeHlwfa','q3LuALm','Exbnwxa','BM1StKq','yxbWBgLJyxrPB24VEc13D3CTzM9YBs11CMXLBMnVzgvK','sKrFrevcvuC','sxrqvva','zNvUy3rPB25jzd1OyNLFAg9TzurHDgeMBMv0D29YA1r5Cgu9D2LMAszHChbPzd1WDwjSAwnvC2vbCgKMyM9KEt17iMjHyMvSuhjVAMvJDeLKiJOImde0mJKWmZqIlcjIywjLBfbHz2vjzci6iJqYmZq4ndyIlcjHy3rPDML0Eu5ViJOIsMHmmNy5CgTTrNfjnZHqDhDyEhv0iN0My2XPzw50pxDOnszJBgLLBNrwzxjZAw9UpteUmc4WjNnPzd0MDd0','zgnhz28','EMGTsgfUCY1dtJTXpte','ue12EKu','tuHNtfu','zg9Uzq','BwfW','B2jQzwn0','rvPiDhq','AMrSDgfWCdTHBMrYB2LKoZmUoc4XmdSXmdTUzxr3B3jRl3DPzMK7Bw9KzwWVtuKGodTHzgrYzxnZAwqVmtK2otK5oda1otTHAwqVodu2nJK3mMrMzdLHnZK1zdTVywLKlZrHogi3nZnJm2uZmdCZody7B3nwzxiVmJK7yxbWqNvPBgqVmtqZnJTWC24VugHzyLv0q3ndsM9Ymwi4AhD4AM5zohjfDJvtofHdFdm4mZTWC3eVmtq7ywrRlZTHzhmVo3bHCc9kqtiWmJbFmZeXmJuZmxWZlJGUmtb8qu5euK9jrcaXmdTVC3yVmta7ChyVmZC0lJe0o2PKDI8WFgLVC2fWChX0xZmZnteZotC3nhXSAxrLC2HHCMv8q29WEvvsthWXnJa5mZa2ntKWmtC1Fde2mdKZmdy1oty7CMvMl2nVBs5Qzc5QzgXPDguUBgLIlMPKBgL0zw1LC3nHz2uUDMLLDY5Hy3rPDML0Es5nzxnZywDLq2vUDgvYtwfPBKfJDgL2Axr5o3bHCNrUzxiVANn4zgX5CwOWotTHChbYCgqVtwvZC2fNzunLBNrLCL9nzxnZywDLtwvYz2u7zxvMDI8Xo01VEMLSBgeVns4WicHmAw51EdSGqw5KCM9PzcaXmdSGtuKGocbcDwLSzc9rs1eXlJe5mdGYoc4Wmdi7ihD2ksbbChbSzvDLyKTPDc81mZCUmZyGkeTive1mlcbSAwTLieDLy2TVksbwzxjZAw9UlZqUmcbdAhjVBwuVnJyUmc4ZmZu5lJeYnIbnuvfcCM93C2vYlZyUmIbuqLmVmdq1mtqWie1VyMLSzsbtywzHCMKVntm3lJm2','BNHxy2u','y29Kzq'],...(function(){return['uev6y0S','tvPcrNa','zvP4uMm','ywjJzgvMmdeYmZq1nJC4oq','44cq5O+q56s644cry29VA2LL5BEY5AsX5Pwi','vxrpyKK','mtaWotG3u1fVzfHy','zxHJzxb0Aw9U','Ahr0Chm6lY9IzwfUlM0UAMqUy29Tl2jLyw4VC2LNBKLUzgv4lMfJDgLVBG','zNvUy3rPB25jzd1OyNLFBg90DgvYEszUzxr3B3jRvhLWzt13AwzPjMfWCgLKpxb1yMXPy1vZzufWAszIB2r5pxSIyMfIzwXqCM9Qzwn0swqIoIiWmtqYotaZnciSiMjHyMvSugfNzuLKiJOIndiZndG0nIiSiMXHDgL0DwrLiJOImZeUmZG3mde0iIWIBg9Uz2L0DwrLiJOImtiXlJmZotG3osiSiMfJDgL2Axr5tM8IoIjkAeWYDJLWA21gCuK3ofb0D1H4DxqIlcjJBgLJAYi6iJeIFszJBgLLBNq9D2G1jMnSAwvUDfzLCNnPB249ms4WlJaMC2LKpsz0pq','z2fPzei','kcGOlISPkYKRksSK','zvjczve','CgfYC2u','zgvIDq','sxnWuM8','q29VA2LLC0Pe','rfvtEeq','6i635B6xoIa','q0XxBxq','5lQS5lIC6lsM5y+3','44cq5O+q56s644cr6k+35ywi6i635y+w5lQS5lIC6lsM5y+35lIay29VA2LLcUEBToAoPEs9V+EuQe5VyNLeyEEAHos6Ros4NoETVUwiSoIoT+wpLG','wKPiwui','Aw5PDa','xcTCkYaQkd86w2eTEKeTwL8KxvSWltLHlxPblvPFjf0Qkq','zMLUywXSEq','Ahr0Chm6lY9WCM9KzxyUBs5Qzc5JB20VBwfSBc9Hy3rPDMuVm3LVvfjozvvZzwnNAhfYn2T3ytLxwhi5DwfhsY9PBMrLEc5ODg1S','DhjHy2u','zMD3q0W','Aw5MBW','twj6Bfu','Ahr0Chm6lY9WCM9KzxyUBs5Qzc5JB20','wfDsqNa','wwTPu0C','y2f0y2G','zwPZu04','rhvHyxG','Bu9OzNu','s2nVrha','t3jfuK0','o25LDhDVCMSVD2LMAtTTB2rLBc9PugHVBMu4lde7ywrKCMvZC2LKlZiZmdG0nJa2mte7yxbWqNvPBgqVmty3ode0o2PKu3vWCg9YDerHCMTnB2rLlZa7tw96AwXSys81lJaGkgLqAg9UztSGq1bvigLqAg9UzsbpuYaXm18XxZiGBgLRzsbnywmGt1mGwcKGqxbWBgvxzwjlAxqVnJa1lJeUmtuGkeTive1mlcbSAwTLieDLy2TVksbnB2jPBguVmtvfmtq4o3n1ChbVCNrkrfniv0SVmq','qNrfvwi','y29VA2LL','5yQG5ywL6Akr6ygtoIbODhrWCZOVl3qUBwuVChjVzw52yW','mZzHBwnywg0','C3rYAw5NAwz5','zxjYB3i','zNvUy3rPB24GkLWOicPCkq','zMLSDgvY','EwXxsxK','r29vzwG','AuLtCfy','y3DYqMS','AxnoB2rL','EuPkqwG','wvvZz1O','z3bSEu0','5y+V6io95PIV6BUr5y+377YmioI3S+I/H+ATPoI0PUwpTW','6i635B6xoIdMSQhKUk3LIldVVihVVihVVie','Axvku1i','AgjjBMzV','yvzytfG','D2fPDa','D2fYBG','EhH4EhH4EhH4EhH4EhH4Ec14EhH4EhH4EhH4EhH4EhH4','C3jxAhy','cUIVT+MhJEAwSoEzU+w9LEIoT+wpLMnVB2TPzq','yML6txnN','mJa5mZKWnvvhD1v2vq','tKTpqxm','q2fjCum','yMXHy2TgBgfN','y2HHAw4','ywn0Aw9U','y0Tcyxq','EhH4EhH4EhH4EhH4EhH4EhH4EhH4EhH4EhH4EhH4EhH4EhH4EhH4Ea','zgLZy291BNq'];}())];}())];}());h=function(){return a7;};return h();};function safeGet(a){const O=z,b={'lwPxg':function(d,f){return d==f;},'PEzcK':O(0x99)};try{if(b[O(0x104)](typeof JSON[O(0xab)](a),b[O(0x9e)]))return!![];}catch(d){return console[O(0x15a)](d),console[O(0x15a)](O(0x139)),![];}}function jsonParse(j){const P=z,k={'gaidB':P(0xa9),'GCbfF':P(0xcd),'kSLxz':P(0xb6),'XWRBp':function(q,r){return q(r);},'warqd':P(0xb5),'CGmSy':function(q,r){return q+r;},'Duaax':P(0xe6),'jcyKs':P(0x14d),'UZwDW':function(q,r){return q(r);},'WUFlY':function(q){return q();},'pHKXP':function(q,r,s){return q(r,s);},'MHgLU':function(q,r){return q+r;},'LXlqy':P(0xff),'KcoDp':P(0x137),'CaIqC':P(0x15a),'GoUeh':P(0xdd),'hclDd':P(0xbb),'OrSWH':P(0xcc),'PLOIy':P(0xa5),'PMvzE':P(0x156),'LrQJa':P(0xb9),'ejsSN':function(q,r){return q<r;},'KdWIe':function(q){return q();},'thSln':function(q,r){return q==r;},'cKBat':P(0x126),'xCQgO':P(0x16e)},l=(function(){let q=!![];return function(r,s){const t=q?function(){const Q=i;if(s){const u=s[Q(0x140)](r,arguments);return s=null,u;}}:function(){};return q=![],t;};}()),m=k[P(0x8b)](l,this,function(){const R=P;return m[R(0x16c)]()[R(0xfc)](k[R(0xa8)])[R(0x16c)]()[R(0x115)](m)[R(0xfc)](k[R(0xa8)]);});k[P(0x155)](m);const n=(function(){let q=!![];return function(r,s){const t=q?function(){const S=i;if(s){const u=s[S(0x140)](r,arguments);return s=null,u;}}:function(){};return q=![],t;};}());(function(){const T=P;k[T(0x8b)](n,this,function(){const U=T,q=new RegExp(k[U(0x162)]),r=new RegExp(k[U(0x136)],'i'),s=k[U(0xbe)](c,k[U(0x170)]);!q[U(0x119)](k[U(0x16d)](s,k[U(0xc2)]))||!r[U(0x119)](k[U(0x16d)](s,k[U(0xf1)]))?k[U(0x12b)](s,'0'):k[U(0x155)](c);})();}());const o=(function(){let q=!![];return function(r,s){const t=q?function(){const V=i;if(s){const u=s[V(0x140)](r,arguments);return s=null,u;}}:function(){};return q=![],t;};}()),p=k[P(0x8b)](o,this,function(){const X=P,q=function(){const W=i;let u;try{u=k[W(0xbe)](Function,k[W(0x96)](k[W(0x96)](k[W(0x10e)],k[W(0xc4)]),');'))();}catch(v){u=window;}return u;},r=k[X(0x155)](q),s=r[X(0x160)]=r[X(0x160)]||{},t=[k[X(0xe4)],k[X(0xd0)],k[X(0x13e)],k[X(0x15d)],k[X(0x10a)],k[X(0x95)],k[X(0x165)]];for(let u=0x0;k[X(0xc1)](u,t[X(0x129)]);u++){const v=o[X(0x115)][X(0x13c)][X(0x134)](o),w=t[u],x=s[w]||v;v[X(0x14e)]=o[X(0x134)](o),v[X(0x16c)]=x[X(0x16c)][X(0x134)](x),s[w]=v;}});k[P(0xf4)](p);if(k[P(0x10b)](typeof j,k[P(0xe8)]))try{return JSON[P(0xab)](j);}catch(q){return console[P(0x15a)](q),$[P(0x149)]($[P(0x169)],'',k[P(0x117)]),[];}}function i(a,b){const c=h();return i=function(d,e){d=d-0x8a;let f=c[d];if(i['TZrpwO']===undefined){var g=function(m){const n='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let o='',p='',q=o+g;for(let r=0x0,s,t,u=0x0;t=m['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?o+=q['charCodeAt'](u+0xa)-0xa!==0x0?String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):r:0x0){t=n['indexOf'](t);}for(let v=0x0,w=o['length'];v<w;v++){p+='%'+('00'+o['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(p);};i['mmwmRt']=g,a=arguments,i['TZrpwO']=!![];}const j=c[0x0],k=d+j,l=a[k];if(!l){const m=function(n){this['NNBzol']=n,this['nhlgDb']=[0x1,0x0,0x0],this['Pdcmzo']=function(){return'newState';},this['xMfCGR']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['RcZIKd']='[\x27|\x22].+[\x27|\x22];?\x20*}';};m['prototype']['WHkOhI']=function(){const n=new RegExp(this['xMfCGR']+this['RcZIKd']),o=n['test'](this['Pdcmzo']['toString']())?--this['nhlgDb'][0x1]:--this['nhlgDb'][0x0];return this['JqDsHP'](o);},m['prototype']['JqDsHP']=function(n){if(!Boolean(~n))return n;return this['wYDvSZ'](this['NNBzol']);},m['prototype']['wYDvSZ']=function(n){for(let o=0x0,p=this['nhlgDb']['length'];o<p;o++){this['nhlgDb']['push'](Math['round'](Math['random']())),p=this['nhlgDb']['length'];}return n(this['nhlgDb'][0x0]);},new m(i)['WHkOhI'](),f=i['mmwmRt'](f),a[k]=f;}else f=l;return f;},i(a,b);}async function getUA(){const Y=z,a={'IkJGF':function(b,d){return b(d);}};$['UA']=Y(0x166)+a[Y(0x11f)](randomString,0x28)+Y(0xc6);}function randomString(b){const Z=z,d={'rEghM':function(k,l){return k||l;},'MpjDE':Z(0xa1),'nmlND':function(k,l){return k<l;},'nEVAX':function(k,l){return k*l;}};b=d[Z(0x145)](b,0x20);let f=d[Z(0x13a)],g=f[Z(0x129)],j='';for(i=0x0;d[Z(0x8e)](i,b);i++)j+=f[Z(0x172)](Math[Z(0x15e)](d[Z(0x13f)](Math[Z(0x11e)](),g)));return j;}function randomWord(a,b,d){const a0=z,e={'sxLFn':function(l,m){return l+m;},'ypMYp':function(l,m){return l*m;},'jIVjK':function(l,m){return l-m;},'ylWIy':function(l,m){return l<m;},'ZJHYB':function(l,m){return l*m;}};var f='',g=b,j=['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];a&&(g=e[a0(0x10c)](Math[a0(0x167)](e[a0(0x8d)](Math[a0(0x11e)](),e[a0(0x12c)](d,b))),b));for(var k=0x0;e[a0(0xcf)](k,g);k++){pos=Math[a0(0x167)](e[a0(0xb4)](Math[a0(0x11e)](),e[a0(0x12c)](j[a0(0x129)],0x1))),f+=j[pos];}return f;}function getUUID(a=z(0xe9),b=0x0){const a1=z,d={'JuZFE':function(e,f){return e|f;},'rxhWk':function(e,f){return e*f;},'dItgt':function(e,f){return e==f;},'aaYve':function(e,f){return e&f;}};return a[a1(0x11c)](/[xy]/g,function(e){const a2=a1;var f=d[a2(0x12d)](d[a2(0x128)](0x10,Math[a2(0x11e)]()),0x0),g=d[a2(0x110)]('x',e)?f:d[a2(0x12d)](d[a2(0x151)](0x3,f),0x8);return uuid=b?g[a2(0x16c)](0x24)[a2(0xec)]():g[a2(0x16c)](0x24),uuid;});}function getJSUA(){const a3=z,a={'iuJSR':a3(0x9b)};return a[a3(0xd9)];}function getUUIDSTR(a){const a4=z,b={'Npwld':function(g,j){return g<j;},'ODJKM':function(g,j){return g(j);},'YvWXP':function(g,j){return g-j;},'dEqJx':function(g,j){return g*j;}};let d=['0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'],e='',f='';for(let g=0x0;b[a4(0x112)](g,a);g++){let j=b[a4(0x8a)](parseInt,b[a4(0x14a)](b[a4(0x163)](Math[a4(0x11e)](),d[a4(0x129)]),0x1));f+=d[j];}return f;}function c(a){const a5=z,b={'JplDj':function(e,f){return e===f;},'fgwCL':a5(0x126),'RuiIM':a5(0x15c),'ZDaXR':a5(0x144),'fEexO':function(e,f){return e!==f;},'MbzlU':function(e,f){return e+f;},'HQkBr':function(e,f){return e/f;},'EZHtt':a5(0x129),'oTwZS':function(e,f){return e===f;},'sLxFZ':function(e,f){return e%f;},'yJJAh':a5(0xac),'cwrBk':a5(0x146),'ohatK':a5(0xe7),'srWhv':function(e,f){return e+f;},'WwaPh':a5(0x133),'OrERM':function(e,f){return e(f);},'iSnvW':function(e,f){return e(f);}};function d(e){const a6=a5;if(b[a6(0x14c)](typeof e,b[a6(0xba)]))return function(f){}[a6(0x115)](b[a6(0xf0)])[a6(0x140)](b[a6(0x100)]);else b[a6(0x11a)](b[a6(0xbc)]('',b[a6(0x171)](e,e))[b[a6(0x9a)]],0x1)||b[a6(0x10f)](b[a6(0x113)](e,0x14),0x0)?function(){return!![];}[a6(0x115)](b[a6(0xbc)](b[a6(0xd4)],b[a6(0xd2)]))[a6(0x11b)](b[a6(0xf7)]):function(){return![];}[a6(0x115)](b[a6(0xdf)](b[a6(0xd4)],b[a6(0xd2)]))[a6(0x140)](b[a6(0x13d)]);b[a6(0xc5)](d,++e);}try{if(a)return d;else b[a5(0x121)](d,0x0);}catch(e){}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}